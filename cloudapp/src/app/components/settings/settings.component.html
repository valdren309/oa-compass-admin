<!-- src/app/components/settings/settings.component.html -->

<mat-card class="settings-card">
  <mat-card-title class="settings-title-row">
    <span>{{ 'oa.settings.title' | translate }}</span>
    <span class="settings-title-spacer"></span>
  </mat-card-title>

  <mat-card-content>

    <!-- Loading state -->
    <div *ngIf="loading" class="settings-loading">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>

    <form
      class="settings-form"
      *ngIf="!loading">

      <!-- Display options (per-user) -->
      <section class="settings-section">
        <h3 class="settings-section__title">
          {{ 'oa.settings.displayOptionsTitle' | translate }}
        </h3>
        <p class="settings-section__help">
          {{ 'oa.settings.displayOptionsHelp' | translate }}
        </p>

        <mat-checkbox
          [(ngModel)]="settings.showDebugPanel"
          name="showDebugPanel"
          (change)="toggleDebug()">
          {{ 'oa.settings.showDebugPanelLabel' | translate }}
        </mat-checkbox>
      </section>

      <!-- Actions -->
      <div class="oa-footer-actions">
        <button
          mat-flat-button
          type="button"
          (click)="onCancel()">
          Cancel
        </button>

        <button
          mat-flat-button
          color="primary"
          type="button"
          (click)="onSave()">
          Save
        </button>
      </div>

      <!-- Messages -->
      <div class="settings-messages">
        <span *ngIf="saved" class="settings-success">
          {{ 'oa.settings.savedMessage' | translate }}
        </span>
        <span *ngIf="error" class="settings-error">
          {{ error }}
        </span>
      </div>
    </form>

  </mat-card-content>
</mat-card>
